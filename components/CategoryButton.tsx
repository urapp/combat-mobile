import React, { useState, useContext }  from 'react';
import { View, Text, StyleSheet, Dimensions} from 'react-native';
import { TouchableHighlight} from 'react-native-gesture-handler';
import {Image} from "react-native-expo-image-cache";
import imageLogo from "../assets/images/combatLogo.png";
import {API_URL} from '../env.json';

const CategoryButton = (props) => {
  const categoryId = props?.category?.id;
  const categoryName = props?.category?.name;
  const imageUrl = `${API_URL}/Resources/Images/`;
  const categoryImage = imageUrl + props?.category?.id + ".jpg";
  const category = props?.category;

  const preview = { uri: "data:image/png;base64,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" };
  const uri = categoryImage;

  const goBack = (value) => {
    props.callBack(value);
  };
  
  return(
    <>
        <TouchableHighlight style={styles.button}
          onPress={() => goBack(category)}
          underlayColor="#2196F3">
            <View style={styles.row}>
              <Image style={styles.buttonImage} {...{preview, uri}} />
              <Text style={styles.buttonText} key={categoryId}>{categoryName}</Text>
            </View>
        </TouchableHighlight>
    </>
  );
}

const styles = StyleSheet.create({
    button: {
        margin: 5,
        padding: 5,
        width: Dimensions.get("window").width - 10,
        borderWidth: 1,
        borderRadius: 10,
        alignSelf: "stretch",
        backgroundColor: "rgba(255,255,255, .8)",
      },
    buttonText: {
      fontSize: 20,
      fontWeight: 'bold',
      padding: 5
    },
    buttonImage: {
        margin: 1,
        height: 50,
        width: 50,
        borderWidth: 1,
        borderColor: "black",
        borderRadius: 50,
        backgroundColor: "white"
    },
    row: {
        flexDirection: "row",
        alignItems: "center",
    },
  });

  export default CategoryButton;